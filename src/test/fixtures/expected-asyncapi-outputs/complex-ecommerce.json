{
  "asyncapi": "3.0.0",
  "info": {
    "title": "Generated from REAL TypeSpec AST",
    "version": "1.0.0", 
    "description": "Found 2 operations in TypeSpec source"
  },
  "channels": {
    "channel_publishOrderCreated": {
      "address": "/publishordercreated",
      "description": "Published when new order is created",
      "messages": {
        "publishOrderCreatedMessage": {
          "$ref": "#/components/messages/publishOrderCreatedMessage"
        }
      }
    },
    "channel_subscribeCustomerOrderUpdates": {
      "address": "/subscribecustomerorderupdates",
      "description": "Subscribe to order updates for specific customer", 
      "messages": {
        "subscribeCustomerOrderUpdatesMessage": {
          "$ref": "#/components/messages/subscribeCustomerOrderUpdatesMessage"
        }
      }
    }
  },
  "operations": {
    "publishOrderCreated": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/channel_publishOrderCreated"
      },
      "summary": "Published when new order is created",
      "description": "Generated from TypeSpec operation with 0 parameters"
    },
    "subscribeCustomerOrderUpdates": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/channel_subscribeCustomerOrderUpdates"
      },
      "summary": "Subscribe to order updates for specific customer",
      "description": "Generated from TypeSpec operation with 1 parameters"
    }
  },
  "components": {
    "schemas": {
      "Customer": {
        "type": "object",
        "description": "Customer information",
        "properties": {
          "customerId": {
            "type": "string",
            "description": "Unique customer identifier"
          },
          "email": {
            "type": "string", 
            "description": "Customer email address"
          },
          "profile": {
            "type": "object",
            "description": "Customer profile"
          }
        },
        "required": ["customerId", "email", "profile"]
      },
      "CustomerProfile": {
        "type": "object",
        "description": "Customer profile details",
        "properties": {
          "firstName": {
            "type": "string",
            "description": "First name"
          },
          "lastName": {
            "type": "string",
            "description": "Last name"
          },
          "preferences": {
            "type": "object",
            "description": "Customer preferences"
          },
          "addresses": {
            "type": "array",
            "description": "Customer addresses"
          }
        },
        "required": ["firstName", "lastName", "preferences", "addresses"]
      },
      "Address": {
        "type": "object",
        "description": "Address information",
        "properties": {
          "street": {
            "type": "string",
            "description": "Street address"
          },
          "city": {
            "type": "string",
            "description": "City name"
          },
          "state": {
            "type": "string",
            "description": "State or province"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code"
          },
          "country": {
            "type": "string",
            "description": "Country code"
          }
        },
        "required": ["street", "city", "state", "postalCode", "country"]
      },
      "OrderEvent": {
        "type": "object",
        "description": "Order information",
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Order identifier"
          },
          "customer": {
            "type": "object",
            "description": "Customer information"
          },
          "items": {
            "type": "array",
            "description": "Order items"
          },
          "totalAmountCents": {
            "type": "integer",
            "format": "int64",
            "description": "Order total in cents"
          },
          "status": {
            "type": "string",
            "description": "Order status"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Order timestamp"
          }
        },
        "required": ["orderId", "customer", "items", "totalAmountCents", "status", "createdAt"]
      },
      "OrderItem": {
        "type": "object",
        "description": "Order line item",
        "properties": {
          "productSku": {
            "type": "string",
            "description": "Product SKU"
          },
          "productName": {
            "type": "string",
            "description": "Product name"
          },
          "quantity": {
            "type": "integer",
            "format": "int32",
            "description": "Quantity ordered"
          },
          "unitPriceCents": {
            "type": "integer", 
            "format": "int64",
            "description": "Unit price in cents"
          }
        },
        "required": ["productSku", "productName", "quantity", "unitPriceCents"]
      }
    }
  }
}