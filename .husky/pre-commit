#!/bin/sh

# Pre-commit quality gate - ensures all changes pass build, lint, and tests
# Prevents broken code from being committed

echo "ğŸ” Running pre-commit quality checks..."

echo "ğŸ“¦ Building TypeScript..."
just build || {
    echo "âŒ Build failed! Fix TypeScript errors before committing."
    exit 1
}

echo "ğŸ” Running ESLint..."
just lint || {
    echo "âŒ Lint failed! Fix ESLint errors before committing."
    exit 1
}

echo "ğŸ§ª Running tests..."
bun test || {
    echo "âŒ Tests failed! Fix failing tests before committing."
    exit 1
}

echo "âœ… All quality checks passed! Proceeding with commit..."
